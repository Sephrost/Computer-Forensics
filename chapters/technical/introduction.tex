\chapter{Introduction to digital forensics}
First of all, we need to understand some basic concepts. \\
\textbf{Forensics analysis} is the process of investigating and
analyzing information to gather evidence to solve legal problems. In
order to do that, the collections, presevation and analysis or
presentation of digital evidence is required to support the
investigation. \textbf{Computer forensics} does just that.\\
Forensic science is not a new field, it has been around since the
ancient times. The first recorded use of forensic science was around
1900 BC in Babylon, where fingerprints were used to identify the 
author of a clay tablet. Digital forensics is a relatively new field,
it started in the 1980s with the advent of personal computers, for
example the first convicted person for digital crimes was Robert
Tappan Morris, who created the Morris Worm in 1988, and found out by
analyzing computer logs and network activity.
\begin{boxH}
  \textbf{Computer Forensics} is the \textbf{discipline} that combines elements
  of law and computer science to collect and analyze data from computer
  systems, networks, wireless communications, and storage devices in a way that
  is admissible as evidence in a court of law.
\end{boxH}
In general, when carrying out a forensic investigation, the following
questions are important to keep in mind to fully understand the 
crime scene:
\begin{itemize}
  \item \textbf{What} happened? What is the timeline of events?
  \item \textbf{Who} was involved?
  \item \textbf{When} did it happen?
  \item \textbf{Where} did it happen?
  \item \textbf{How} did it happen?
  \item \textbf{Why} did it happen?
  \item \textbf{How} did the incident occur?
\end{itemize}
All this questions allow to \textbf{support legal proceedings}, the mitigation
of damages and mature future prevention strategies.
\section{Computer forensics goals}
The main goals of computer forensics are:
\begin{enumerate}
  \item \textbf{retrieve} the \textbf{input} data(ie: what has been typed)
  \item \textbf{determine} the \textbf{actions} performed by the user (ie: what programs
    have been run)
  \item \textbf{analyze} the \textbf{used files} (ie: what files have been
    modified)
  \item \textbf{identify} the \textbf{damage} done to the system (ie: what
    files have been deleted)
\end{enumerate}
\begin{boxH}
  In essence, the goal of computer forensics is to \textbf{gain conprehansion}
  of \textbf{what happened}, at least technically speaking.
\end{boxH}

\section{CF terminology \& relevant concepts}
Before going any further, we need to understand some basic concepts
and terminology used in the field of computer forensics. 

For a definition of \textbf{digital evidence}, we can refer to
definition \ref{boxH:digital-evidence}. In general, we can expect to
deal with different types of digital evidence, because they can use
different level of \textbf{abstraction}. Most of the time that are
fragile, because they can be easily modified or destroyed, which is
undesirable during forensics investigations. Its also difficult to
correlate connection between data and real events, and to prove that
correlation in court. 

Another important concept is the \textbf{chain of custody}.
\begin{boxH}
  The \textbf{chain of custody} is the \textbf{documented} and
  \textbf{unbroken process} of handling evidence, from the moment it
  is collected to the moment it is presented in court.
\end{boxH}
This is important because it ensures that the evidence is not tampered
with, or even accessible by unauthorized personnel, and its most
important to ensure that the evidence is admissible in court. For
those reasons it requires knowledge about logging procedures, secure
storage and legal protocols, because many security measures are
required to ensure the integrity and confidentiality of the evidence.

\begin{boxH}
  \textbf{Data Acquisition} is the process of \textbf{collecting
  evidence} from devices without altering or damaging the original
  data.
\end{boxH}
This is one of the most subtle one, because it requires a deep
knowledge of how memory works, because it may be required to do disk
imaging when the data is at rest or even live data acquisition when
the data is in use. In any case, understanding of whats going on in
memory is required to avoid data corruption and tampering.

\begin{boxH}
  \textbf{Write Blockers} are hardware devices, or software tools,
  used to prevent any data from being written to a storage device
  during analysis, preserving the original data content.
\end{boxH}
Hardware write blockers are the most secure, because we don't have to
trust that the software is behaving correctly, but are also more 
expensive. In any case, they are fundamental for legally defensible
acquisitions.
\begin{boxH}
  \textbf{Forensic Image} is a \textbf{bit-by-bit copy} of digital
  media, including deleted files and data in slack space, which is an
  exact replica of the original device.
\end{boxH}
This is a strict requirement for digital forensics, because it allows
to preserve the original data, for example if the data is not exactly
copied the same way, the result of an hash function will be different.

\section{Forensics scenarios}
When doing a forensic investigation, there can be different scenarios
that can be encountered. Some common scenarios are:
\begin{itemize}
  \item internet abuse from employee
  \item computer-aided frauds
  \item data unauthorized manipulation, like data theft or disclosure
  \item computer/network damage assessment
  \item â€¦and any time digital evidences may be involved in an incident
\end{itemize}
\section{Investigation phases}
The investigation process can be divided into several phases, at least
from a technical point of view. Those depends on the standards that
are followed in a given country where the investigation is taking 
place(fore example in America the NIST standards are followed).
\subsection{Identification}
Its the first step of the investigation, an it take place when the
crime scene has been accessed. The goal is to identify which are the
potential sources of relevant that, which will be used as digital
evidence if relevant.\\
Most of the time we have an overwhelming amount of data, but most of
it is not relevant to the investigation. Reducing the amount of data 
is also a goal of this phase. On the other hand, it is also possible
to miss some important data, so it is important to be careful.\\
It is important to recognize (all relevant) data sources before any
acquisition begins, like:
\begin{itemize}
  \item hard drives (HDD/SSD)
  \item memory (RAM)
  \item mobile devices (smartphones, tablets)
  \item cloud storage
  \item network traffic
  \item removable media (USB drives, DVDs)
  \item \dots 
\end{itemize}
The steps to follow in this phase are:
\begin{itemize}
  \item if possible, acquire data before reaching the crime
    scene(pre-analysis), instructing the staff to identify possible
    sources of evidence
  \item perform an \textbf{initial survey} of the scene (physical or
    network environment)
  \item \textbf{identify key devices} and data locations (local
    storage, remote servers, cloud services)
  \item \textbf{check} for \textbf{connected devices}, including
    peripherals like printers, removable media, or network-attached
    devices
  \item \textbf{map} all potential \textbf{data sources} using network
    topology
\end{itemize}
Pay much attention to the ephemeral storage of data, with reference to
the order of volatility. The order of volatility is a concept that
refers to the order in which data should be collected, based on how 
long it will be available.
\subsection{Collection}
After the identification phase, one must physically or remotely taking
possession of the evidence (e.g. a computer) and its connection (e.g.
Network or physical, like USB disk). The timing is most crucial in
this phase, while also maintaining the integrity of the evidence, to
minimize the risk of evidence tampering or data loss.\\
The steps to follow in this phase are:
\begin{itemize}
  \item isolate devices to prevent them from being tampered with
    remotely (e.g., disconnect them from the network)
  \item use devices to block external communication for mobile or
    wireless devices ( e.g. faraday bags)
  \item use network isolation tools for virtual and cloud environments
    to prevent remote access ( e.g security groups, virtual private
    cloud, firewall rule)
\end{itemize}
Its important to ensure the integrity of the evidence while
maintaining the system running, because shutting it down can cause the
loss of volatile data(e.g. RAM).
\subsection{Acquisition}
It refers to the process of electronically retrieving data by running various 
CF tools and software suite. Its a separate phase from the collection 
phase.

\begin{boxH}
  It's the process of creating a forensic copy (bit-by-bit image) of
  the original data to ensure that the acquired data is a faithful
  replica of the source while also maintaining data integrity
\end{boxH}
The acquisition method can be divided into two categories:
\begin{itemize}
  \item \textbf{Static acquisition}: the data is acquired while the
    system is turned off, and the data is at rest. 
  \item \textbf{Live acquisition}: the data is acquired while the
    system is running, and the data is in use. 
\end{itemize}
Depending on the method used, the acquisition can be done in different
ways and using different tools.

\subsubsection{Static acquisition}
Static acquisition can be carried out as follows:
\begin{itemize}
  \item shut them down carefully to avoid losing data ( e.g. for
    encrypted devices, consider methods for capturing data without
    triggering loss of access, for example before the decryption key is
    wiped from RAM)
  \item attach the device to a forensic workstation using a write blocker
  \item use forensic imaging tools to create a complete image of the
    storage device
  \item generate a hash value (e.g., SHA-256) of the original media
    before and after acquisition to verify integrity
  \item store the image on a secure forensic storage device
\end{itemize}
Be careful that the data is properly hashed and verified after the
acquisition.

\subsubsection{Live acquisition}
Live acquisition can be carried out as follows:
\begin{itemize}
  \item choose a method that minimizes system interference while
    capturing volatile data. This requires some knowledge of the
    system(FS, applications running, etc)
  \item dump RAM (memory acquisition) and capture data from running
    processes or network connections.
  \item perform network traffic capture
  \item document all acquisition actions and steps to ensure chain of
    custody and admissibility
  \item hash the volatile data wherever possible to maintain data
    integrity
\end{itemize}

\subsubsection{Integrity}
It ensure that the acquired data is an exact replica of the
original and has not been altered. To do so, some steps are required:
\begin{itemize}
  \item choose a method that minimizes system interference while
    generating a hash (MD5, SHA-256) of the acquired image or data dump
  \item compare the hash value to the original data hash (for static
    data) to verify its integrity
  \item document the hashing process, including the algorithms used and
    the results, in the chain of custody documentation
\end{itemize}

\begin{boxH}
  Any discrepancies in hash values would require re-acquisition and
  could damage the credibility of the evidence
\end{boxH}



\subsection{Evaluation}
Now that all the data has been collected, it is time to evaluate it.
In this phase the data is analyzed to substantiate claims and to
determine how they could be used against the suspect.
\subsection{Presentation}
At last, the evidence is presented in a clear and understandable way
to the court, in a manner which is suitable for lawyers, non-technical 
staff and the law.
